"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[839],{1839:function(e,s,i){i.r(s),i.d(s,{DialogsContainer:function(){return y}});var n=i(8281),a=i(2791),d="Dialogs_dialogs__25un2",r="Dialogs_dialogItems__StBuM",t="Dialogs_messages__6byBN",l="Dialogs_activeLink__gpFHm",o=i(3504),c=i(6509),g=i(1313),u=i(5796),x=i(184),h=a.memo((function(e){var s=e.dialogItem,i=s.id,a=s.userName,d=s.photos,r=s.hasNewMessages,t=s.newMessagesCount,h=s.lastUserActivityDate,m=s.lastDialogActivityDate,v=(0,g.T)(),j="/profile/"+i;return(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)("div",{children:(0,x.jsx)(c.z,{onClick:function(){v((0,n.AH)(i))},children:a})}),(0,x.jsx)(o.OL,{to:j,children:(0,x.jsx)("img",{style:{width:"80px",height:"80px",borderRadius:"50%",border:"3px solid grey"},src:null!=d.small?d.small:u,alt:"PHOTO"})}),(0,x.jsx)("div",{children:i}),(0,x.jsxs)("div",{children:[" ",r?(0,x.jsxs)("span",{children:["Has New ",t," messages"]}):(0,x.jsx)("span",{children:"No messages"})]}),(0,x.jsxs)("div",{children:["Activity  ",new Date(h).toLocaleString()]}),(0,x.jsxs)("div",{children:["Dialog ",new Date(m).toLocaleString()]})]})})),m=function(e){var s=e.messagess;return(0,x.jsxs)("div",{children:["messages",s&&s.map((function(e){return(0,x.jsxs)("div",{style:{border:"1px solid red",margin:"5px"},children:[(0,x.jsxs)("div",{style:{padding:"5px"},children:["data ",new Date(e.addedAt).toLocaleString()]}),(0,x.jsxs)("p",{style:{padding:"5px"},children:["message ",e.body]}),(0,x.jsxs)("div",{style:{padding:"5px"},children:["senderName ",e.senderName]}),(0,x.jsxs)("div",{style:{padding:"5px"},children:["viewed ",e.viewed]})]},e.id)}))]})},v=i(885),j=i(2811),p=function(e){var s=e.userId,i=(0,a.useState)(""),d=(0,v.Z)(i,2),r=d[0],t=d[1],l=(0,g.T)();console.log("SendMessageForm",s);return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(j.iF,{onChange:function(e){return t(e.currentTarget.value)},value:r})}),(0,x.jsx)("div",{children:(0,x.jsx)(c.z,{onClick:function(){r&&l((0,n.CJ)(s,r))},children:"Send"})})]})},f=a.memo((function(e){var s=(0,g.T)(),i=(0,g.C)((function(e){return e.dialogsPage.dialogs})),l=(0,g.C)((function(e){return e.dialogsPage.messages})),o=(0,g.C)((function(e){return e.dialogsPage.userId}));return(0,a.useEffect)((function(){s((0,n.UP)())}),[s,o]),console.log("dialogs rendered"),(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)("div",{className:r,children:i&&i.map((function(e){return(0,x.jsx)(h,{dialogItem:e},e.id)}))}),(0,x.jsxs)("div",{className:t,children:[(0,x.jsx)(m,{messagess:l}),(0,x.jsx)(p,{userId:o})]})]})})),C=i(2177),w=i(2163),y=(0,i(7781).qC)((0,C.$j)((function(e){return{dialogsPage:e.dialogsPage.dialogs,isAuth:e.auth.isAuth}}),{newTextMessageOnChange:n.Hw,sendMessageTC:n.CJ,getDialogsTC:n.UP}),w.e)(f)}}]);
//# sourceMappingURL=839.15338c0a.chunk.js.map