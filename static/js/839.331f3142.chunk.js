"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[839],{1839:function(s,e,i){i.r(e),i.d(e,{DialogsContainer:function(){return w}});var n=i(8281),a=i(2791),d="Dialogs_dialogs__25un2",r="Dialogs_dialogItems__StBuM",t="Dialogs_messages__6byBN",l="Dialogs_activeLink__gpFHm",o=i(3504),c=i(6509),g=i(1313),u=i(5796),x=i(184),h=function(s){var e=s.dialogItem,i=e.id,a=e.userName,d=e.photos,r=e.hasNewMessages,t=e.newMessagesCount,h=e.lastUserActivityDate,j=e.lastDialogActivityDate,v=(0,g.T)(),m="/dialogs/"+i;return(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)("div",{children:(0,x.jsx)(c.z,{onClick:function(){v((0,n.jR)(i))},children:a})}),(0,x.jsx)(o.OL,{to:m,children:(0,x.jsx)("img",{style:{width:"80px",height:"80px",borderRadius:"50%",border:"3px solid grey"},src:null!=d.small?d.small:u,alt:"PHOTO"})}),(0,x.jsx)("div",{children:i}),(0,x.jsxs)("div",{children:[" ",r?(0,x.jsxs)("span",{children:["Has New ",t," messages"]}):(0,x.jsx)("span",{children:"No messages"})]}),(0,x.jsxs)("div",{children:["Activity  ",new Date(h).toLocaleString()]}),(0,x.jsxs)("div",{children:["Dialog ",new Date(j).toLocaleString()]})]})},j=function(s){var e=s.messagess;return(0,x.jsxs)(x.Fragment,{children:["messages",e&&e.map((function(s){return(0,x.jsxs)("div",{style:{border:"1px solid red",margin:"5px"},children:[(0,x.jsxs)("div",{style:{padding:"5px"},children:["data ",new Date(s.addedAt).toLocaleString()]}),(0,x.jsxs)("div",{style:{padding:"5px"},children:["message ",s.body]}),(0,x.jsxs)("div",{style:{padding:"5px"},children:["senderName ",s.senderName]}),(0,x.jsxs)("div",{style:{padding:"5px"},children:["viewed ",s.viewed]})]},s.id)}))]})},v=i(885),m=i(2811),p=function(s){var e=s.userId,i=(0,a.useState)(""),d=(0,v.Z)(i,2),r=d[0],t=d[1],l=(0,g.T)();console.log("SendMessageForm",e);return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(m.iF,{onChange:function(s){return t(s.currentTarget.value)},value:r})}),(0,x.jsx)("div",{children:(0,x.jsx)(c.z,{onClick:function(){r&&l((0,n.CJ)(e,r))},children:"Send"})})]})},f=i(2177),C=i(2163),w=(0,i(7781).qC)((0,f.$j)((function(s){return{dialogsPage:s.dialogsPage.dialogs,isAuth:s.auth.isAuth}}),{newTextMessageOnChange:n.Hw,sendMessageTC:n.CJ,getDialogsTC:n.UP}),C.e)((function(s){var e=(0,g.T)(),i=(0,g.C)((function(s){return s.dialogsPage.dialogs})),l=(0,g.C)((function(s){return s.dialogsPage.messages})),o=(0,g.C)((function(s){return s.dialogsPage.userId}));return(0,a.useEffect)((function(){e((0,n.UP)())}),[e]),console.log("dialogs",s.dialogs),(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)("div",{className:r,children:i&&i.map((function(s){return(0,x.jsx)(h,{dialogItem:s},s.id)}))}),(0,x.jsxs)("div",{className:t,children:[(0,x.jsx)(j,{messagess:l}),(0,x.jsx)(p,{userId:o})]})]})}))}}]);
//# sourceMappingURL=839.331f3142.chunk.js.map